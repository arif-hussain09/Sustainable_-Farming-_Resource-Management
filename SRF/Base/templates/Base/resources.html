{%extends 'main.html'%}

{% block content%}

    <!-- Main Container for Resources Page -->
    <div class="container mt-5">
        <h3>Resources Overview</h3>

        <!-- Chart Section -->
        <div class="row mb-4">
            <div class="col-md-12">
                <canvas id="resourcesChart"></canvas>
            </div>
        </div>

        <!-- Resource Table for Farms -->
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Farm Name</th>
                    <th>Imported Resources (Units)</th>
                    <th>Used Resources (Units)</th>
                    <th>Available Resources (Units)</th>
                    <th>Stored Resources (Units)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><a href="farm_detail.html?farm_id=1">Farm A</a></td>
                    <td><a href="resource_report.html?farm_id=1&resource_type=imported">100</a></td>
                    <td><a href="resource_report.html?farm_id=1&resource_type=used">60</a></td>
                    <td><a href="resource_report.html?farm_id=1&resource_type=available">30</a></td>
                    <td><a href="resource_report.html?farm_id=1&resource_type=stored">10</a></td>
                </tr>
                <tr>
                    <td><a href="farm_detail.html?farm_id=2">Farm B</a></td>
                    <td><a href="resource_report.html?farm_id=2&resource_type=imported">200</a></td>
                    <td><a href="resource_report.html?farm_id=2&resource_type=used">150</a></td>
                    <td><a href="resource_report.html?farm_id=2&resource_type=available">40</a></td>
                    <td><a href="resource_report.html?farm_id=2&resource_type=stored">10</a></td>
                </tr>
                <tr>
                    <td><a href="farm_detail.html?farm_id=3">Farm C</a></td>
                    <td><a href="resource_report.html?farm_id=3&resource_type=imported">300</a></td>
                    <td><a href="resource_report.html?farm_id=3&resource_type=used">200</a></td>
                    <td><a href="resource_report.html?farm_id=3&resource_type=available">80</a></td>
                    <td><a href="resource_report.html?farm_id=3&resource_type=stored">20</a></td>
                </tr>
                <tr>
                    <td><a href="farm_detail.html?farm_id=4">Farm D</a></td>
                    <td><a href="resource_report.html?farm_id=4&resource_type=imported">150</a></td>
                    <td><a href="resource_report.html?farm_id=4&resource_type=used">100</a></td>
                    <td><a href="resource_report.html?farm_id=4&resource_type=available">30</a></td>
                    <td><a href="resource_report.html?farm_id=4&resource_type=stored">20</a></td>
                </tr>
                <tr>
                    <td><a href="farm_detail.html?farm_id=5">Farm E</a></td>
                    <td><a href="resource_report.html?farm_id=5&resource_type=imported">120</a></td>
                    <td><a href="resource_report.html?farm_id=5&resource_type=used">80</a></td>
                    <td><a href="resource_report.html?farm_id=5&resource_type=available">30</a></td>
                    <td><a href="resource_report.html?farm_id=5&resource_type=stored">10</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Chart.js Script -->
    <script>
        const ctx = document.getElementById('resourcesChart').getContext('2d');
        const resourcesChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Farm A', 'Farm B', 'Farm C', 'Farm D', 'Farm E'], // Farm names
                datasets: [
                    {
                        label: 'Imported Resources',
                        data: [100, 200, 300, 150, 120], // Imported resources data
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Used Resources',
                        data: [60, 150, 200, 100, 80], // Used resources data
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Available Resources',
                        data: [30, 40, 80, 30, 30], // Available resources data
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Stored Resources',
                        data: [10, 10, 20, 20, 10], // Stored resources data
                        backgroundColor: 'rgba(153, 102, 255, 0.2)',
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

{%endblock%}